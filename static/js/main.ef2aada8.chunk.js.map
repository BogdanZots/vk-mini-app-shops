{"version":3,"sources":["api/api.js","api/shopService.js","store/actions-conts/actions-conts.js","consts/conts.js","store/reducers/shopReducer.js","components/CustomHeaderBlock/CustomHeaderBlock.jsx","panels/Home.js","panels/Map.js","components/CustomFooter/CustomFooter.jsx","components/CurrentShop/CurrentShop.jsx","components/CurrentShopProduct/CurrentShopProduct.jsx","store/reducers/userReducer.js","App.js","store/actions/actions.js","store/store.js","index.js"],"names":["$api","axios","create","withCredentials","baseURL","interceptors","request","use","config","headers","Authorization","ShopService","url","fetch","method","credentials","get","GET_ALL_SHOPS","CHECK_PANEL","CHECK_VIEW","SET_CURRENT_SHOP_MENU","SET_USER_GEO_DATA","VIEWS","PANELS","SEARCH_PANELS","MAIN_PANEL","CURRENT_CAFFE_PANEL","MAP_PANEL","initialState","shops","activePanels","activeView","currentShop","id","caption","img","name","menu","catigories","setCurrentShop","console","log","dispatch","a","categories","e","shopsReducer","state","action","stateCopy","type","payload","sort","b","middleRate","shopId","CustomHeaderBlock","class","size","className","width","height","viewBox","fill","xmlns","d","Home","go","fetchedUser","useSelector","store","user","userAdress","useDispatch","filteredShops","onClick","map","shop","target","closest","image","src","subtitle","header","description","addressText","Map","props","fakeShops","cord","useState","localMap","setLocalMap","useEffect","window","ymaps","ready","center","zoom","searchControlProvider","forEach","i","template","content","templateLayoutFactory","createClass","GeoObject","myGeoObject","Placemark","hintContent","iconLayout","iconShape","coordinates","geoObjects","add","events","dom","document","getElementsByClassName","dataset","CustomFooter","activePanel","expandable","some","panel","CurrentShop","menuItem","mode","level","weight","cost","CurrentShopProduct","userLocation","userReducer","city","road","App","setActivePanel","setUser","popout","setPopout","userGeo","setUserGeo","bridge","send","subscribe","detail","data","schemeAttribute","createAttribute","value","scheme","body","attributes","setNamedItem","fetchData","getAllShops","BASE_URL","getGeo","geo","lat","long","currentTarget","to","redusers","combineReducers","shopReducer","createStore","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.ef2aada8.chunk.js","sourcesContent":["import axios from \"axios\";\r\nexport const API_URL = \"https://nostresso-back.herokuapp.com\";\r\nconst $api = axios.create({\r\n  withCredentials: true,\r\n  baseURL: API_URL,\r\n});\r\n\r\n$api.interceptors.request.use((config) => {\r\n  config.headers.Authorization = `Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIyMDQ4NTU4ODAiLCJpYXQiOjE2MzUwNjMwNzksImV4cCI6MTY0MzcwMzA3OX0.vA7WaN2Ep2fmGOVbZPt7Rw7gwt0msKyylKkh7dLOxB0`;\r\n  return config;\r\n});\r\n\r\nexport default $api;\r\n","import axios from \"axios\";\r\nimport $api from \"./api\";\r\nexport default class ShopService {\r\n  static getAllShops(url) {\r\n    return fetch(\"https://nostresso-back.herokuapp.com/shop/all\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        credentials: \"include\",\r\n        Authorization: `Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIyMDQ4NTU4ODAiLCJpYXQiOjE2MzUwNjMwNzksImV4cCI6MTY0MzcwMzA3OX0.vA7WaN2Ep2fmGOVbZPt7Rw7gwt0msKyylKkh7dLOxB0`,\r\n      },\r\n    });\r\n  }\r\n  static getCurrentShopMenu(url) {\r\n    return $api.get(url);\r\n  }\r\n  static getCurrentShopCategories(url) {\r\n    return $api.get(url, {});\r\n  }\r\n}\r\n","// SHOP\r\nexport const GET_ALL_SHOPS = \"GET_ALL_SHOPS\";\r\nexport const CHECK_PANEL = \"CHECK_PANEL\";\r\nexport const CHECK_VIEW = \"CHECK_VIEW\";\r\nexport const SET_CURRENT_SHOP_MENU = \"SET_CURRENT_SHOP_MENU\";\r\n// USER\r\nexport const SET_USER_GEO_DATA = \"SET_USER_GEO_DATA\";\r\n","export const BASE_URL = \"https://nostresso-back.herokuapp.com/\";\r\nexport const ALL_SHPS_URL = BASE_URL + \"shop/all\";\r\nexport const CURRENT_SHOP_MENU_URL = BASE_URL + \"shop/\";\r\nexport const CURRENT_SHOP_CATEGORIES_URL = \"categories\"\r\nexport const GEO_LOCATION_URL = \"https://geocode-maps.yandex.ru/1.x/?apikey=58644385-f6c9-4932-8603-6756aa2d4314&geocode=\"\r\n\r\nexport const VIEWS = {\r\n  HOME_VIEW: \"home\",\r\n  CURRENT_SHOP_VIEW: \"current-cafe-view\",\r\n  MAP_VIEW: \"map\",\r\n};\r\nexport const PANELS = {\r\n  SEARCH_PANELS : [\"home\",\"map\",\"current-shop\",\"current-shop-product\"],\r\n  MAIN_PANEL: \"main\",\r\n  CURRENT_CAFFE_PANEL: \"current-caffe-panel\",\r\n  MAP_PANEL: \"map-panel\",\r\n};\r\n\r\n\r\n\r\n\r\n","/* eslint-disable no-use-before-define */\r\n/* eslint-disable camelcase */\r\n/* eslint-disable arrow-body-style */\r\n/* eslint-disable consistent-return */\r\n/* eslint-disable array-callback-return */\r\n/* eslint-disable func-names */\r\n\r\nimport ShopService from \"../../api/shopService\";\r\nimport {\r\n  CHECK_PANEL,\r\n  CHECK_VIEW,\r\n  GET_ALL_SHOPS,\r\n  SET_CURRENT_SHOP_MENU,\r\n} from \"../actions-conts/actions-conts\";\r\nimport { setAllShopsAC, setCurrentShopAC } from \"../actions/actions\";\r\nimport {\r\n  VIEWS,\r\n  PANELS,\r\n  ALL_SHPS_URL,\r\n  CURRENT_SHOP_URL,\r\n  CURRENT_SHOP_CATEGORIES_URL,\r\n  CURRENT_SHOP_MENU_URL,\r\n} from \"../../consts/conts\";\r\n\r\nconst initialState = {\r\n  shops: [],\r\n  activePanels: {\r\n    [VIEWS.HOME_VIEW]: PANELS.MAIN_PANEL,\r\n  },\r\n  activeView: VIEWS.HOME_VIEW,\r\n  currentShop: {\r\n    id: 0,\r\n    caption: \"\",\r\n    img: \"\",\r\n    name: \"\",\r\n    menu: [],\r\n    catigories: [],\r\n  },\r\n};\r\n\r\nconst shopsReducer = (state = initialState, action) => {\r\n  let stateCopy = { ...state };\r\n  switch (action.type) {\r\n    case GET_ALL_SHOPS:\r\n      stateCopy.shops = [\r\n        ...action.payload.sort((a, b) => a.middleRate - b.middleRate),\r\n      ];\r\n      return {\r\n        ...stateCopy,\r\n      };\r\n    case CHECK_PANEL:\r\n      stateCopy.activePanels = action.payload;\r\n      return {\r\n        ...stateCopy,\r\n      };\r\n    case CHECK_VIEW:\r\n      stateCopy.activeView = action.payload;\r\n      return {\r\n        ...stateCopy,\r\n      };\r\n    case SET_CURRENT_SHOP_MENU:\r\n      const id = +action.payload.shopId;\r\n      stateCopy.currentShop.catigories = action.payload.categories;\r\n      stateCopy.currentShop.menu = action.payload.menu;\r\n      stateCopy.currentShop.name = stateCopy.shops[id - 1].name;\r\n      stateCopy.currentShop.img = stateCopy.shops[id - 1].img;\r\n      return {\r\n        ...stateCopy,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAllShops = () => {\r\n  return async function (dispatch) {\r\n    try {\r\n      const data = await ShopService.getAllShops(ALL_SHPS_URL);\r\n      dispatch(setAllShopsAC(data.data));\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\nexport const setCurrentShop = (id) => {\r\n  console.log(\"ID\", id);\r\n  return async function (dispatch) {\r\n    try {\r\n/*       const menu = await ShopService.getCurrentShopMenu(\r\n        CURRENT_SHOP_MENU_URL + id\r\n      );\r\n      const categories = await ShopService.getCurrentShopCategories(\r\n        `${CURRENT_SHOP_MENU_URL}${id}/${CURRENT_SHOP_CATEGORIES_URL}`\r\n      );\r\n      dispatch(\r\n        setCurrentShopAC({\r\n          menu: menu.data,\r\n          categories: categories.data,\r\n          shopId: id,\r\n        })\r\n      ); */\r\n      console.log(menu, categories);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\nexport default shopsReducer;\r\n","import React from \"react\";\r\nimport \"./CustomHeaderBlock.css\"\r\nimport { Spacing,Title,Div,Search } from \"@vkontakte/vkui\";\r\nexport default function CustomHeaderBlock() {\r\n  return (\r\n    <div class='header__block'>\r\n      <Spacing size={16} />\r\n      <Title className='header__block-title'>Заказывай еду ко времени</Title>\r\n      <Spacing size={16} />\r\n      <Div className='header__block-options'>\r\n        <Search className='header__block-search' />\r\n        <Div className='geo'>\r\n          <svg\r\n            width='20'\r\n            height='20'\r\n            viewBox='0 0 43 60'\r\n            fill='none'\r\n            xmlns='http://www.w3.org/2000/svg'>\r\n            <path\r\n              d='M21.0096 0C9.4186 0 0 9.4186 0 21.0096C0 24.92 1.07921 28.7463 3.13953 32.0541L19.8183 58.9363C20.1407 59.4549 20.7013 59.7632 21.304 59.7632H21.318C21.9347 59.7632 22.4953 59.4409 22.8037 58.9083L39.062 31.7738C40.9961 28.5361 42.0193 24.8079 42.0193 21.0096C42.0193 9.4186 32.6007 0 21.0096 0ZM36.0486 29.9797L21.2759 54.6475L6.11088 30.218C4.40095 27.4569 3.47591 24.2753 3.47591 21.0096C3.47591 11.3528 11.3528 3.47591 21.0096 3.47591C30.6665 3.47591 38.5294 11.3528 38.5294 21.0096C38.5294 24.1772 37.6604 27.2747 36.0486 29.9797Z'\r\n              fill='black'\r\n            />\r\n            <path\r\n              d='M21.0101 10.5119C15.2216 10.5119 10.4983 15.2212 10.4983 21.0097C10.4983 26.7701 15.1375 31.5215 21.0101 31.5215C26.9528 31.5215 31.5219 26.7141 31.5219 21.0097C31.5219 15.2212 26.7986 10.5119 21.0101 10.5119ZM21.0101 28.0316C17.1277 28.0316 13.9882 24.878 13.9882 21.0097C13.9882 17.1413 17.1558 13.9878 21.0101 13.9878C24.8644 13.9878 28.018 17.1553 28.018 21.0097C28.032 24.822 24.9485 28.0316 21.0101 28.0316Z'\r\n              fill='black'\r\n            />\r\n          </svg>\r\n        </Div>\r\n      </Div>\r\n      <Spacing size={16} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Home.css\";\nimport {\n  Panel,\n  Group,\n  CardGrid,\n  ContentCard,\n  Div,\n  TabsItem,\n  Tabs,\n} from \"@vkontakte/vkui\";\nimport { useDispatch , useSelector } from \"react-redux\";\nimport { setCurrentShop } from \"../store/reducers/shopReducer\";\nimport CustomHeaderBlock from \"../components/CustomHeaderBlock/CustomHeaderBlock\";\n\n\nconst Home = ({ id, go, fetchedUser, shops }) => {\n  const {userAdress} = useSelector(store=>store.user)\n  const dispatch = useDispatch();\n  const filteredShops = /* shops || */ [\n    {\n      \"id\": 1,\n      \"name\": \"string1\",\n      \"description\": \"string1\",\n      \"addressText\": \"string1\",\n      \"phone\": \"string1\",\n      \"img\": \"https://cdn2.iconfinder.com/data/icons/basic-flat-icon-set/128/store-256.png\",\n      \"middleRate\": 0,\n    },\n    {\n      \"id\": 2,\n      \"name\": \"string2\",\n      \"description\": \"string2\",\n      \"addressText\": \"string2\",\n      \"phone\": \"string2\",\n      \"img\": \"https://cdn2.iconfinder.com/data/icons/basic-flat-icon-set/128/store-256.png\",\n      \"middleRate\": 0,\n    }\n    ,  {\n      \"id\": 3,\n      \"name\": \"string3\",\n      \"description\": \"string3\",\n      \"addressText\": \"string3\",\n      \"phone\": \"string3\",\n      \"img\": \"https://cdn2.iconfinder.com/data/icons/basic-flat-icon-set/128/store-256.png\",\n      \"middleRate\": 0,\n    }\n    ,  {\n      \"id\": 4,\n      \"name\": \"string4\",\n      \"description\": \"string4\",\n      \"addressText\": \"string4\",\n      \"phone\": \"string4\",\n      \"img\": \"https://cdn2.iconfinder.com/data/icons/basic-flat-icon-set/128/store-256.png\",\n      \"middleRate\": 0,\n    }\n  ];\n  console.log(filteredShops);\n  return (\n    <Panel id={id}>\n      <CustomHeaderBlock />\n      {/*       {fetchedUser && (\n        <Group\n          header={\n            <Header mode='secondary'>User Data Fetched with VK Bridge</Header>\n          }>\n          <Cell\n            before={\n              fetchedUser.photo_200 ? (\n                <Avatar src={fetchedUser.photo_200} />\n              ) : null\n            }\n            description={\n              fetchedUser.city && fetchedUser.city.title\n                ? fetchedUser.city.title\n                : \"\"\n            }>\n            {`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n          </Cell>\n        </Group>\n      )} */}\n\n      <Group>\n        <Tabs className='select__tabs'>\n          <TabsItem>Cписок заведений</TabsItem>\n          <TabsItem data-to='map' onClick={(e) => go(e)}>\n            Карта заведений\n          </TabsItem>\n        </Tabs>\n        Adress : {userAdress}\n      </Group>\n      <Div>\n        <CardGrid className='cards__container' data-to='current-shop' size='l'>\n          {filteredShops &&\n            filteredShops.map((shop) => {\n              const id = shop.id;\n              return (\n                <ContentCard\n                  onClick={(e) => {\n                    dispatch(setCurrentShop(id));\n                    go(e.target.closest(\".cards__container\"));\n                  }}\n                  key={shop.id}\n                  className='item__card'\n                  image={shop.img}\n                  src={shop.img}\n                  subtitle={\"КОФЕЙНЯ \" + shop.name}\n                  header={shop.description}\n                  caption={shop.addressText}></ContentCard>\n              );\n            })}\n        </CardGrid>\n      </Div>\n    </Panel>\n  );\n};\n\nHome.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired,\n  fetchedUser: PropTypes.shape({\n    photo_200: PropTypes.string,\n    first_name: PropTypes.string,\n    last_name: PropTypes.string,\n    city: PropTypes.shape({\n      title: PropTypes.string,\n    }),\n  }),\n};\n\nexport default Home;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport {\n  Panel,\n  PanelHeader,\n  PanelHeaderBack,\n  TabsItem,\n  Tabs,\n  Group,\n} from \"@vkontakte/vkui\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./Map.css\";\nimport { setCurrentShop } from \"../store/reducers/shopReducer\";\nimport CustomHeaderBlock from \"../components/CustomHeaderBlock/CustomHeaderBlock\";\n\nconst Map = (props) => {\n  const dispatch = useDispatch();\n  const fakeShops = [\n    { name: \"name1\", cord: [55.6171833, 37.673856], id: 1 },\n    { name: \"name2\", cord: [55.751574, 37.773856], id: 2 },\n    { name: \"name3\", cord: [55.851574, 37.873856], id: 3 },\n    { name: \"name4\", cord: [58.751574, 40.573856], id: 4 },\n  ];\n  const [localMap, setLocalMap] = useState(\"\");\n  const handleLoad = () => {\n    window.ymaps.ready(() => {\n      setLocalMap(\n        new ymaps.Map(\n          \"map-2\",\n          {\n            center: [55.751574, 37.573856],\n            zoom: 9,\n          },\n          {\n            searchControlProvider: \"yandex#search\",\n          }\n        )\n      );\n    });\n  };\n  useEffect(() => {\n    handleLoad();\n  }, []);\n\n  fakeShops.forEach((shop, i) => {\n    const template = `<div id=\"map_point\" class=\"map_point\" data-to=\"current-shop\"   data-id=${fakeShops[i].id} class=\"text\">\n    <svg width=\"45\" height=\"45\" viewBox=\"0 0 43 60\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M39.3987 14.268L34.2549 6.33511L27.0508 3.11149L27.191 2.25652L24.528 1.99023L24.1776 1.83605L24.1636 1.96219L20.5475 1.59778L20.5335 1.20534L19.7346 1.51369L16.6792 1.19133L16.9735 2.57889L11.7456 4.62519L2.52323 13.6233L2.08874 26.4898L20.954 57.3665L29.3214 44.7103L36.8198 32.4885L40.0294 23.9109L39.3987 14.268ZM24.8223 29.2789L16.6792 28.424L12.3903 22.201L14.745 14.0578L19.5944 12.2217L22.9022 12.7684L27.191 14.9128L29.3354 23.4904L24.8223 29.2789Z\" fill=\"#F48542\"/>\n<path d=\"M21.0096 0C9.4186 0 0 9.4186 0 21.0096C0 24.92 1.07921 28.7463 3.13953 32.0541L19.8183 58.9363C20.1407 59.4549 20.7013 59.7632 21.304 59.7632H21.318C21.9347 59.7632 22.4953 59.4409 22.8037 58.9083L39.062 31.7738C40.9961 28.5361 42.0193 24.8079 42.0193 21.0096C42.0193 9.4186 32.6007 0 21.0096 0ZM36.0486 29.9797L21.2759 54.6475L6.11088 30.218C4.40095 27.4569 3.47591 24.2753 3.47591 21.0096C3.47591 11.3528 11.3528 3.47591 21.0096 3.47591C30.6665 3.47591 38.5294 11.3528 38.5294 21.0096C38.5294 24.1772 37.6604 27.2747 36.0486 29.9797Z\" fill=\"black\"/>\n<path d=\"M21.0101 10.5119C15.2216 10.5119 10.4983 15.2212 10.4983 21.0097C10.4983 26.7701 15.1375 31.5215 21.0101 31.5215C26.9528 31.5215 31.5219 26.7141 31.5219 21.0097C31.5219 15.2212 26.7986 10.5119 21.0101 10.5119ZM21.0101 28.0316C17.1277 28.0316 13.9882 24.878 13.9882 21.0097C13.9882 17.1413 17.1558 13.9878 21.0101 13.9878C24.8644 13.9878 28.018 17.1553 28.018 21.0097C28.032 24.822 24.9485 28.0316 21.0101 28.0316Z\" fill=\"black\"/>\n</svg>\n\n    <div class=\"place_title\">\n    <div>test</div>\n    <div>\n    <img src=\"https://cdn1.iconfinder.com/data/icons/interface-travel-and-environment/64/star-interface-256.png\" style=\"width:12px;heigth:12px\">\n    <span class=\"text_small\">\n    4,5 Капучино от 190 р\n    </span>\n    </div>\n    </div>\n    </div>`;\n    let content = ymaps?.templateLayoutFactory?.createClass(template);\n    if (window.ymaps.GeoObject) {\n      const myGeoObject = new ymaps.Placemark(\n        fakeShops[i].cord,\n        {\n          hintContent: fakeShops[i].name,\n        },\n        {\n          iconLayout: content,\n          iconShape: {\n            type: \"Rectangle\",\n            coordinates: [\n              [-95, -88],\n              [85, 78],\n            ],\n          },\n        }\n      );\n      if (localMap.geoObjects) {\n        localMap.geoObjects.add(myGeoObject);\n        myGeoObject.events.add(\"click\", function (e) {\n          const dom = document.getElementsByClassName(\"map_point\");\n          dispatch(setCurrentShop(dom[i].dataset.id));\n          props.go(dom[i]);\n        });\n      }\n    }\n  });\n  return (\n    <Panel id={props.id}>\n      {/*   <PanelHeader left={<PanelHeaderBack onClick={props.go} data-to='home' />}>\n\n      </PanelHeader> */}\n      <CustomHeaderBlock className='header__block-map' />\n      <Group>\n        <Tabs className='select__tabs-map'>\n          <TabsItem data-to='home' onClick={(e) => props.go(e)}>\n            Cписок заведений\n          </TabsItem>\n          <TabsItem data-to='map' onClick={(e) => props.go(e)} className='shop'>\n            Карта заведений\n          </TabsItem>\n        </Tabs>\n      </Group>\n      <div id='map-2'></div>\n    </Panel>\n  );\n};\n\nMap.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired,\n};\n\nexport default Map;\n","import React from \"react\";\r\nimport { Icon24Search } from \"@vkontakte/icons\";\r\nimport { Icon24ShoppingCartOutline } from \"@vkontakte/icons\";\r\nimport { Icon24MenuOutline } from \"@vkontakte/icons\";\r\nimport { Group, Cell, Div, List, Footer, Tabbar } from \"@vkontakte/vkui\";\r\nimport \"./CustomFooter.css\";\r\nimport { PANELS, VIEWS } from \"../../consts/conts\";\r\nconst CustomFooter = ({ activePanel , go }) => {\r\n  console.log(\"acive panel\", activePanel);\r\n  return (\r\n    <Tabbar className='nav__tabbar'>\r\n      <Group className='footer__group'>\r\n        <List className='nav__list'>\r\n          <Cell className='nav__item' expandable>\r\n            {PANELS.SEARCH_PANELS.some(panel => panel === activePanel) ? (\r\n              <>\r\n                <Div>\r\n                  <Icon24Search fill=\"orange\" data-to=\"home\" onClick={(e)=>go(e)} />\r\n                </Div>\r\n                <span class=\"active\">Поиск</span>\r\n              </>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </Cell>\r\n\r\n          <Cell className='nav__item' expandable>\r\n            <Div>\r\n              <Icon24ShoppingCartOutline fill='#99A2AD' />\r\n            </Div>\r\n            Корзина\r\n          </Cell>\r\n          <Cell className='nav__item' expandable>\r\n            <Div>\r\n              <Icon24MenuOutline fill='#99A2AD' />\r\n            </Div>\r\n            Мои заказы\r\n          </Cell>\r\n        </List>\r\n      </Group>\r\n    </Tabbar>\r\n  );\r\n};\r\n\r\nexport default CustomFooter;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport \"./CurrentShop.css\";\r\nimport {\r\n  CardGrid,\r\n  ContentCard,\r\n  Group,\r\n  HorizontalScroll,\r\n  Tabs,\r\n  Card,\r\n  TabsItem,\r\n  Headline,\r\n  Spacing,\r\n  Title,\r\n  Panel\r\n} from \"@vkontakte/vkui\";\r\nimport { useState } from \"react\";\r\nimport { Icon16ShoppingCartOutline } from \"@vkontakte/icons\";\r\nexport default function CurrentShop({ go , id }) {\r\n  const { currentShop } = useSelector((store) => store.shops);\r\n  const [activeTab, setActiveTab] = useState(\"Напитки\");\r\n  return (\r\n      <Panel id={id}>\r\n        <CardGrid className='cards__container current__shop-card' size='l'>\r\n          <ContentCard\r\n            onClick={(e) => {}}\r\n            key={currentShop.id}\r\n            className='current__shop-card item__card'\r\n            image={currentShop.img}\r\n            src={currentShop.img}\r\n            subtitle={\"КОФЕЙНЯ \" + currentShop.name}></ContentCard>\r\n        </CardGrid>\r\n        <Tabs>\r\n          <HorizontalScroll>\r\n            <TabsItem>Напитки</TabsItem>\r\n            <TabsItem>Шаверма</TabsItem>\r\n            <TabsItem>Десерты</TabsItem>\r\n            <TabsItem>Закуски</TabsItem>\r\n            <TabsItem>Десерты</TabsItem>\r\n            <TabsItem>Закуски</TabsItem>\r\n          </HorizontalScroll>\r\n        </Tabs>\r\n        <Group class=''>\r\n          <CardGrid className='menu__container' size='m'>\r\n            {currentShop.menu.map((menuItem) => {\r\n              return (\r\n                <Card className='menu__item' mode='outline'>\r\n                  <img src={menuItem.img} class='menu__item-img'></img>\r\n                  <Spacing size={16} />\r\n                  <div>\r\n                    <Headline>{menuItem.name}</Headline>\r\n                  </div>\r\n                  <Spacing size={16} />\r\n                  <div class='menu__item-buy'>\r\n                    <Title\r\n                      class='menu__item-but-text'\r\n                      level='2'\r\n                      weight='semibold'>\r\n                      ₽ {menuItem.cost}\r\n                    </Title>\r\n                    <div\r\n                      class='menu__item-buy-cirle'\r\n                      data-to='current-shop-product'\r\n                      onClick={(e) => go(e)}>\r\n                      <svg\r\n                        height='26'\r\n                        width='26'\r\n                        fill='white'\r\n                        viewBox='0 0 512 512'\r\n                        xmlns='http://www.w3.org/2000/svg'>\r\n                        <title />\r\n                        <g data-name='1' id='_1'>\r\n                          <path d='M397.78,316H192.65A15,15,0,0,1,178,304.33L143.46,153.85a15,15,0,0,1,14.62-18.36H432.35A15,15,0,0,1,447,153.85L412.4,304.33A15,15,0,0,1,397.78,316ZM204.59,286H385.84l27.67-120.48H176.91Z' />\r\n                          <path d='M222,450a57.48,57.48,0,1,1,57.48-57.48A57.54,57.54,0,0,1,222,450Zm0-84.95a27.48,27.48,0,1,0,27.48,27.47A27.5,27.5,0,0,0,222,365.05Z' />\r\n                          <path d='M368.42,450a57.48,57.48,0,1,1,57.48-57.48A57.54,57.54,0,0,1,368.42,450Zm0-84.95a27.48,27.48,0,1,0,27.48,27.47A27.5,27.5,0,0,0,368.42,365.05Z' />\r\n                          <path d='M158.08,165.49a15,15,0,0,1-14.23-10.26L118.14,78H70.7a15,15,0,1,1,0-30H129a15,15,0,0,1,14.23,10.26l29.13,87.49a15,15,0,0,1-14.23,19.74Z' />\r\n                        </g>\r\n                      </svg>\r\n                    </div>\r\n                  </div>\r\n                </Card>\r\n              );\r\n            })}\r\n            {currentShop.menu.map((menuItem) => {\r\n              return (\r\n                <Card className='menu__item' mode='outline'>\r\n                  <img src={menuItem.img} class='menu__item-img'></img>\r\n                  <Spacing size={16} />\r\n                  <div class='menu__item-text'>\r\n                    <Headline>{menuItem.name}</Headline>\r\n                  </div>\r\n                  <Spacing size={16} />\r\n                  <div class='menu__item-buy'>\r\n                    <Title\r\n                      class='menu__item-but-text'\r\n                      level='2'\r\n                      weight='semibold'>\r\n                      ₽ {menuItem.cost}\r\n                    </Title>\r\n                    <div class='menu__item-buy-cirle' onClick={(e) => go(e)}>\r\n                      <svg\r\n                        height='26'\r\n                        width='26'\r\n                        fill='white'\r\n                        viewBox='0 0 512 512'\r\n                        xmlns='http://www.w3.org/2000/svg'>\r\n                        <title />\r\n                        <g data-name='1' id='_1'>\r\n                          <path d='M397.78,316H192.65A15,15,0,0,1,178,304.33L143.46,153.85a15,15,0,0,1,14.62-18.36H432.35A15,15,0,0,1,447,153.85L412.4,304.33A15,15,0,0,1,397.78,316ZM204.59,286H385.84l27.67-120.48H176.91Z' />\r\n                          <path d='M222,450a57.48,57.48,0,1,1,57.48-57.48A57.54,57.54,0,0,1,222,450Zm0-84.95a27.48,27.48,0,1,0,27.48,27.47A27.5,27.5,0,0,0,222,365.05Z' />\r\n                          <path d='M368.42,450a57.48,57.48,0,1,1,57.48-57.48A57.54,57.54,0,0,1,368.42,450Zm0-84.95a27.48,27.48,0,1,0,27.48,27.47A27.5,27.5,0,0,0,368.42,365.05Z' />\r\n                          <path d='M158.08,165.49a15,15,0,0,1-14.23-10.26L118.14,78H70.7a15,15,0,1,1,0-30H129a15,15,0,0,1,14.23,10.26l29.13,87.49a15,15,0,0,1-14.23,19.74Z' />\r\n                        </g>\r\n                      </svg>\r\n                    </div>\r\n                  </div>\r\n                </Card>\r\n              );\r\n            })}\r\n          </CardGrid>\r\n        </Group>\r\n      </Panel>\r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nexport default function CurrentShopProduct() {\r\n    return (\r\n        <div>\r\n            Product\r\n        </div>\r\n    )\r\n}\r\n","/* eslint-disable no-use-before-define */\r\n/* eslint-disable camelcase */\r\n/* eslint-disable arrow-body-style */\r\n/* eslint-disable consistent-return */\r\n/* eslint-disable array-callback-return */\r\n/* eslint-disable func-names */\r\n\r\nimport UserService from \"../../api/userService\";\r\nimport { SET_USER_GEO_DATA } from \"../actions-conts/actions-conts\";\r\nimport { setUserGeoDataAC } from \"../actions/actions\";\r\n\r\nconst initialState = {\r\n  userAdress: \"\",\r\n  userLocation: \"\",\r\n};\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n  let stateCopy = { ...state };\r\n  switch (action.type) {\r\n    case SET_USER_GEO_DATA:\r\n      console.log(action);\r\n      stateCopy.userAdress = action.payload.city + \" , \" + action.payload.road;\r\n      return {\r\n        ...stateCopy,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setUserGeoData = (location) => {\r\n  return async function (dispatch) {\r\n/*     const geoData = await UserService.getGeo(\r\n      `https://nominatim.openstreetmap.org/reverse?lat=${location.lat}&lon=${location.long}&zoom=18&addressdetails=1&format=json`\r\n    );\r\n    dispatch(setUserGeoDataAC(geoData.data.address)); */\r\n  };\r\n};\r\n\r\nexport default userReducer;\r\n","import React, { useState, useEffect } from \"react\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport {\n  View,\n  ScreenSpinner,\n  AdaptivityProvider,\n  AppRoot,\n} from \"@vkontakte/vkui\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\n\nimport Home from \"./panels/Home\";\nimport Map from \"./panels/Map\";\nimport CustomFooter from \"./components/CustomFooter/CustomFooter\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setAllShops } from \"./store/reducers/shopReducer\";\nimport CurrentShop from \"./components/CurrentShop/CurrentShop\";\nimport CurrentShopProduct from \"./components/CurrentShopProduct/CurrentShopProduct\";\nimport { setUserGeoData } from \"./store/reducers/userReducer\";\n\nconst App = () => {\n  const [activePanel, setActivePanel] = useState(\"home\");\n  const [fetchedUser, setUser] = useState(null);\n  const [popout, setPopout] = useState(\"\");\n  const [userGeo, setUserGeo] = useState(null);\n  const dispatch = useDispatch();\n  const { shops } = useSelector((store) => store.shops);\n\n  useEffect(() => {\n    bridge.subscribe(({ detail: { type, data } }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        const schemeAttribute = document.createAttribute(\"scheme\");\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n    async function fetchData() {\n      const user = await bridge.send(\"VKWebAppGetUserInfo\");\n      setUser(user);\n      setPopout(null);\n    }\n    fetchData();\n    dispatch(setAllShops());\n    const getGeo = async () => {\n      try {\n        const geo = await bridge.send(\"VKWebAppGetGeodata\");\n        setUserGeo(geo);\n        console.log(\"GEO\", geo, userGeo);\n        dispatch(setUserGeoData({ lat: geo.lat, long: geo.long }));\n      } catch (e) {\n        console.log(e);\n      }\n    };\n    getGeo();\n  }, []);\n  const go = (e) => {\n    if (!e.currentTarget) {\n      setActivePanel(e.dataset.to);\n      return;\n    }\n    setActivePanel(e.currentTarget.dataset.to);\n  };\n\n  return (\n    <AdaptivityProvider>\n      <AppRoot>\n        <View activePanel={activePanel} popout={popout}>\n          <Home id='home' fetchedUser={fetchedUser} shops={shops} go={go} />\n          <Map id='map' go={go} />\n          <CurrentShop id='current-shop' go={go} />\n          <CurrentShopProduct id='current-shop-product' go={go} />\n        </View>\n        <CustomFooter activePanel={activePanel} go={go} />\n      </AppRoot>\n    </AdaptivityProvider>\n  );\n};\n\nexport default App;\n","import {\r\n  CHECK_PANEL,\r\n  CHECK_VIEW,\r\n  GET_ALL_SHOPS,\r\n  SET_CURRENT_SHOP_MENU,\r\n  SET_USER_GEO_DATA,\r\n} from \"../actions-conts/actions-conts\";\r\n\r\nexport const setAllShopsAC = (payload) => {\r\n  return {\r\n    type: GET_ALL_SHOPS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const checkActivePanelAC = (payload) => {\r\n  console.log(\"payload\", payload);\r\n  return {\r\n    type: CHECK_PANEL,\r\n    payload,\r\n  };\r\n};\r\nexport const checkActiveViewAC = (payload) => {\r\n  console.log(\"payload\", payload);\r\n  return {\r\n    type: CHECK_VIEW,\r\n    payload,\r\n  };\r\n};\r\nexport const setCurrentShopAC = (payload) => {\r\n  return {\r\n    type: SET_CURRENT_SHOP_MENU,\r\n    payload,\r\n  };\r\n};\r\nexport const setUserGeoDataAC = (payload) => {\r\n  return {\r\n    type: SET_USER_GEO_DATA,\r\n    payload,\r\n  };\r\n};\r\n","import { combineReducers, applyMiddleware, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport shopReducer from \"./reducers/shopReducer\";\r\nimport userReducer from \"./reducers/userReducer\";\r\n\r\nconst redusers = combineReducers({\r\n  shops: shopReducer,\r\n  user : userReducer\r\n});\r\n\r\nconst store = createStore(redusers, applyMiddleware(thunk));\r\nwindow.store = store;\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\nimport store from \"./store/store\";\nimport { Provider } from \"react-redux\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}