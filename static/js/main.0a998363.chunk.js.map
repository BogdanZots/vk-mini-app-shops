{"version":3,"sources":["api/api.js","api/shopService.js","store/actions-conts/actions-conts.js","consts/conts.js","store/reducers/shopReducer.js","store/actions/actions.js","components/CustomHeaderBlock/CustomHeaderBlock.jsx","panels/Home.js","panels/Map.js","components/CustomFooter/CustomFooter.jsx","components/CurrentShop/CurrentShop.jsx","img/svg/Selected/Selected.jsx","components/CurrentShopProduct/CurrentShopProduct.jsx","api/userService.js","store/reducers/userReducer.js","components/Popup/Popup.jsx","App.js","store/store.js","index.js"],"names":["$api","axios","create","baseURL","interceptors","request","use","config","headers","Authorization","ShopService","url","get","GET_ALL_SHOPS","CHECK_PANEL","CHECK_VIEW","SET_CURRENT_SHOP_MENU","SET_USER_GEO_DATA","BASE_URL","CURRENT_SHOP_MENU_URL","VIEWS","PANELS","SEARCH_PANELS","MAIN_PANEL","CURRENT_SHOP_PANEL","CURRENT_SHOP_ORDER_PANEL","MAP_PANEL","TABS","initialState","shops","activePanels","activeView","currentShop","id","caption","img","name","menu","middleRate","addressText","catigories","workingFrom","workingTo","setCurrentShop","dispatch","a","getCurrentShopMenu","getCurrentShopCategories","categories","payload","data","shopId","type","console","log","shopsReducer","state","action","stateCopy","sort","b","CustomHeaderBlock","class","size","className","width","height","viewBox","fill","xmlns","d","Home","go","fetchedUser","useSelector","store","user","userAdress","useDispatch","filteredShops","onClick","e","map","shop","target","closest","Map","props","shopsArray","i","cord","locationLat","locationLng","useState","localMap","setLocalMap","useEffect","window","ymaps","ready","center","zoom","searchControlProvider","forEach","template","content","templateLayoutFactory","createClass","GeoObject","myGeoObject","Placemark","hintContent","iconLayout","iconShape","coordinates","geoObjects","add","events","dom","document","getElementsByClassName","setModalActive","panel","dataset","CustomFooter","activePanel","expandable","some","CurrentShop","image","src","subtitle","menuItem","mode","level","weight","cost","Selected","x","y","rx","stroke","CurrentShopProduct","activeTab","setActiveTab","selected","stretched","style","marginRight","UserService","fetch","then","res","json","userLocation","setUserGeoData","location","getGeo","lat","long","geoData","address","userReducer","city","road","Popup","modalActive","styles","mapStyles","activeModal","onClose","right","App","setActivePanel","setUser","popoup","setPopoup","setUserGeo","bridge","send","geo","subscribe","detail","schemeAttribute","createAttribute","value","scheme","body","attributes","setNamedItem","fetchData","getAllShops","currentTarget","to","modal","redusers","combineReducers","shopReducer","createStore","applyMiddleware","thunk","redux","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0a998363.chunk.js","sourcesContent":["import axios from \"axios\";\r\nexport const API_URL = \"https://nostresso-back.herokuapp.com\";\r\nconst $api = axios.create({\r\n  baseURL: API_URL,\r\n});\r\n\r\n$api.interceptors.request.use((config) => {\r\n  config.headers.Authorization = `Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIyMDQ4NTU4ODAiLCJpYXQiOjE2MzUwOTM3MzQsImV4cCI6MTY0MzczMzczNH0._nUSWKfG3vVsjW-iao4qy7Dsl2P_5XZ78GYsx3s6tyg`;\r\n  return config;\r\n});\r\n\r\nexport default $api;\r\n","import axios from \"axios\";\r\nimport $api from \"./api\";\r\nexport default class ShopService {\r\n  static getAllShops(url) {\r\n    return $api.get(url)\r\n  }\r\n  static getCurrentShopMenu(url) {\r\n    return $api.get(url);\r\n  }\r\n  static getCurrentShopCategories(url) {\r\n    return $api.get(url, {});\r\n  }\r\n}\r\n","// SHOP\r\nexport const GET_ALL_SHOPS = \"GET_ALL_SHOPS\";\r\nexport const CHECK_PANEL = \"CHECK_PANEL\";\r\nexport const CHECK_VIEW = \"CHECK_VIEW\";\r\nexport const SET_CURRENT_SHOP_MENU = \"SET_CURRENT_SHOP_MENU\";\r\n// USER\r\nexport const SET_USER_GEO_DATA = \"SET_USER_GEO_DATA\";\r\n","export const BASE_URL = \"https://nostresso-back.herokuapp.com/\";\r\nexport const ALL_SHPS_URL = BASE_URL + \"shop/all\";\r\nexport const CURRENT_SHOP_MENU_URL = BASE_URL + \"shop/\";\r\nexport const CURRENT_SHOP_CATEGORIES_URL = \"categories\"\r\nexport const GEO_LOCATION_URL = \"https://geocode-maps.yandex.ru/1.x/?apikey=58644385-f6c9-4932-8603-6756aa2d4314&geocode=\"\r\n\r\nexport const VIEWS = {\r\n  HOME_VIEW: \"home\",\r\n  CURRENT_SHOP_VIEW: \"current-cafe-view\",\r\n  MAP_VIEW: \"map\",\r\n};\r\nexport const PANELS = {\r\n  SEARCH_PANELS : [\"home\",\"map\",\"current-shop\",\"current-shop-order-product\"],\r\n  MAIN_PANEL: \"main\",\r\n  CURRENT_SHOP_PANEL: \"current-shop\",\r\n  CURRENT_SHOP_ORDER_PANEL: \"current-shop-order-product\",\r\n  MAP_PANEL: \"map-panel\",\r\n};\r\nexport const TABS = {\r\n  small : 140,\r\n  medium : 160,\r\n  large : 180\r\n}\r\n\r\n","/* eslint-disable no-use-before-define */\r\n/* eslint-disable camelcase */\r\n/* eslint-disable arrow-body-style */\r\n/* eslint-disable consistent-return */\r\n/* eslint-disable array-callback-return */\r\n/* eslint-disable func-names */\r\n\r\nimport ShopService from \"../../api/shopService\";\r\nimport {\r\n  CHECK_PANEL,\r\n  CHECK_VIEW,\r\n  GET_ALL_SHOPS,\r\n  SET_CURRENT_SHOP_MENU,\r\n} from \"../actions-conts/actions-conts\";\r\nimport { setAllShopsAC, setCurrentShopAC } from \"../actions/actions\";\r\nimport {\r\n  VIEWS,\r\n  PANELS,\r\n  ALL_SHPS_URL,\r\n  CURRENT_SHOP_URL,\r\n  CURRENT_SHOP_CATEGORIES_URL,\r\n  CURRENT_SHOP_MENU_URL,\r\n} from \"../../consts/conts\";\r\n\r\nconst initialState = {\r\n  shops: [],\r\n  activePanels: {\r\n    [VIEWS.HOME_VIEW]: PANELS.MAIN_PANEL,\r\n  },\r\n  activeView: VIEWS.HOME_VIEW,\r\n  currentShop: {\r\n    id: 0,\r\n    caption: \"\",\r\n    img: \"\",\r\n    name: \"\",\r\n    menu: [],\r\n    middleRate: null,\r\n    addressText: \"\",\r\n    catigories: [],\r\n    workingFrom: \"\",\r\n    workingTo: \"\",\r\n  },\r\n};\r\n\r\nconst shopsReducer = (state = initialState, action) => {\r\n  let stateCopy = { ...state };\r\n  switch (action.type) {\r\n    case GET_ALL_SHOPS:\r\n      stateCopy.shops = [\r\n        ...action.payload.sort((a, b) => a.middleRate - b.middleRate),\r\n      ];\r\n      return {\r\n        ...stateCopy,\r\n      };\r\n    case CHECK_PANEL:\r\n      stateCopy.activePanels = action.payload;\r\n      return {\r\n        ...stateCopy,\r\n      };\r\n    case CHECK_VIEW:\r\n      stateCopy.activeView = action.payload;\r\n      return {\r\n        ...stateCopy,\r\n      };\r\n    case SET_CURRENT_SHOP_MENU:\r\n      console.log(\"ACTION\", action);\r\n      const id = +action.payload.shopId;\r\n      stateCopy.currentShop.catigories = action.payload.categories;\r\n      stateCopy.currentShop.menu = action.payload.menu;\r\n      stateCopy.currentShop.name = stateCopy.shops[id - 1].name;\r\n      stateCopy.currentShop.img = stateCopy.shops[id - 1].img;\r\n      stateCopy.currentShop.workingFrom = stateCopy.shops[id - 1].workingFrom;\r\n      stateCopy.currentShop.workingTo = stateCopy.shops[id - 1].workingTo;\r\n      stateCopy.currentShop.addressText = stateCopy.shops[id - 1].addressText;\r\n      stateCopy.currentShop.middleRate = stateCopy.shops[id - 1].middleRate;\r\n\r\n      return {\r\n        ...stateCopy,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAllShops = () => {\r\n  return async function (dispatch) {\r\n    try {\r\n      const data = await ShopService.getAllShops(ALL_SHPS_URL);\r\n      dispatch(setAllShopsAC(data.data));\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\nexport const setCurrentShop = (id) => {\r\n  return async function (dispatch) {\r\n    try {\r\n      const menu = await ShopService.getCurrentShopMenu(\r\n        `${CURRENT_SHOP_MENU_URL}${id}/menu`\r\n      );\r\n      const categories = await ShopService.getCurrentShopCategories(\r\n        `${CURRENT_SHOP_MENU_URL}${id}/${CURRENT_SHOP_CATEGORIES_URL}`\r\n      );\r\n      dispatch(\r\n        setCurrentShopAC({\r\n          menu: menu.data,\r\n          categories: categories.data,\r\n          shopId: id,\r\n        })\r\n      );\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\nexport default shopsReducer;\r\n","import {\r\n  CHECK_PANEL,\r\n  CHECK_VIEW,\r\n  GET_ALL_SHOPS,\r\n  SET_CURRENT_SHOP_MENU,\r\n  SET_USER_GEO_DATA,\r\n} from \"../actions-conts/actions-conts\";\r\n\r\nexport const setAllShopsAC = (payload) => {\r\n  return {\r\n    type: GET_ALL_SHOPS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const checkActivePanelAC = (payload) => {\r\n  return {\r\n    type: CHECK_PANEL,\r\n    payload,\r\n  };\r\n};\r\nexport const checkActiveViewAC = (payload) => {\r\n  return {\r\n    type: CHECK_VIEW,\r\n    payload,\r\n  };\r\n};\r\nexport const setCurrentShopAC = (payload) => {\r\n  return {\r\n    type: SET_CURRENT_SHOP_MENU,\r\n    payload,\r\n  };\r\n};\r\nexport const setUserGeoDataAC = (payload) => {\r\n  return {\r\n    type: SET_USER_GEO_DATA,\r\n    payload,\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport \"./CustomHeaderBlock.css\"\r\nimport { Spacing,Title,Div,Search } from \"@vkontakte/vkui\";\r\nexport default function CustomHeaderBlock() {\r\n  return (\r\n    <div class='header__block'>\r\n      <Spacing size={16} />\r\n      <Title className='header__block-title'>Заказывай еду ко времени</Title>\r\n      <Spacing size={16} />\r\n      <Div className='header__block-options'>\r\n        <Search className='header__block-search' />\r\n        <Div className='geo'>\r\n          <svg\r\n            width='20'\r\n            height='20'\r\n            viewBox='0 0 43 60'\r\n            fill='none'\r\n            xmlns='http://www.w3.org/2000/svg'>\r\n            <path\r\n              d='M21.0096 0C9.4186 0 0 9.4186 0 21.0096C0 24.92 1.07921 28.7463 3.13953 32.0541L19.8183 58.9363C20.1407 59.4549 20.7013 59.7632 21.304 59.7632H21.318C21.9347 59.7632 22.4953 59.4409 22.8037 58.9083L39.062 31.7738C40.9961 28.5361 42.0193 24.8079 42.0193 21.0096C42.0193 9.4186 32.6007 0 21.0096 0ZM36.0486 29.9797L21.2759 54.6475L6.11088 30.218C4.40095 27.4569 3.47591 24.2753 3.47591 21.0096C3.47591 11.3528 11.3528 3.47591 21.0096 3.47591C30.6665 3.47591 38.5294 11.3528 38.5294 21.0096C38.5294 24.1772 37.6604 27.2747 36.0486 29.9797Z'\r\n              fill='black'\r\n            />\r\n            <path\r\n              d='M21.0101 10.5119C15.2216 10.5119 10.4983 15.2212 10.4983 21.0097C10.4983 26.7701 15.1375 31.5215 21.0101 31.5215C26.9528 31.5215 31.5219 26.7141 31.5219 21.0097C31.5219 15.2212 26.7986 10.5119 21.0101 10.5119ZM21.0101 28.0316C17.1277 28.0316 13.9882 24.878 13.9882 21.0097C13.9882 17.1413 17.1558 13.9878 21.0101 13.9878C24.8644 13.9878 28.018 17.1553 28.018 21.0097C28.032 24.822 24.9485 28.0316 21.0101 28.0316Z'\r\n              fill='black'\r\n            />\r\n          </svg>\r\n        </Div>\r\n      </Div>\r\n      <Spacing size={16} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Home.css\";\nimport {\n  Panel,\n  Group,\n  CardGrid,\n  ContentCard,\n  Div,\n  TabsItem,\n  Tabs,\n} from \"@vkontakte/vkui\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setCurrentShop } from \"../store/reducers/shopReducer\";\nimport CustomHeaderBlock from \"../components/CustomHeaderBlock/CustomHeaderBlock\";\n\nconst Home = ({ id, go, fetchedUser, shops }) => {\n  const { userAdress } = useSelector((store) => store.user);\n  const dispatch = useDispatch();\n  \n  const filteredShops = shops;\n  return (\n    <Panel id={id}>\n      <CustomHeaderBlock />\n      {/*       {fetchedUser && (\n        <Group\n          header={\n            <Header mode='secondary'>User Data Fetched with VK Bridge</Header>\n          }>\n          <Cell\n            before={\n              fetchedUser.photo_200 ? (\n                <Avatar src={fetchedUser.photo_200} />\n              ) : null\n            }\n            description={\n              fetchedUser.city && fetchedUser.city.title\n                ? fetchedUser.city.title\n                : \"\"\n            }>\n            {`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n          </Cell>\n        </Group>\n      )} */}\n\n      <Group>\n        <Tabs className='select__tabs'>\n          <TabsItem>Cписок заведений</TabsItem>\n          <TabsItem data-to='map' onClick={(e) => go(e)}>\n            Карта заведений\n          </TabsItem>\n        </Tabs>\n        Adress : {userAdress}\n      </Group>\n      <Div>\n        <CardGrid className='cards__container' data-to='current-shop' size='l'>\n          {filteredShops &&\n            filteredShops.map((shop) => {\n              const id = shop.id;\n              return (\n                <ContentCard\n                className=\"card\"\n                  onClick={(e) => {\n                    dispatch(setCurrentShop(id));\n                    go(e.target.closest(\".cards__container\"));\n                  }}\n                  key={shop.id}\n                  className='item__card'\n                  image={shop.img}\n                  src={shop.img}\n                  subtitle={\"Часы работы \" + shop.workingFrom  + \" - \" + shop.workingTo}\n                  header={\"Рейтинг : \" + shop.middleRate}\n                  caption={\"Адрес : \" + shop.addressText}></ContentCard>\n              );\n            })}\n        </CardGrid>\n      </Div>\n    </Panel>\n  );\n};\n\nHome.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired,\n  fetchedUser: PropTypes.shape({\n    photo_200: PropTypes.string,\n    first_name: PropTypes.string,\n    last_name: PropTypes.string,\n    city: PropTypes.shape({\n      title: PropTypes.string,\n    }),\n  }),\n};\n\nexport default Home;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport {\n  Panel,\n  PanelHeader,\n  PanelHeaderBack,\n  TabsItem,\n  Tabs,\n  Group,\n} from \"@vkontakte/vkui\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./Map.css\";\nimport { setCurrentShop } from \"../store/reducers/shopReducer\";\nimport CustomHeaderBlock from \"../components/CustomHeaderBlock/CustomHeaderBlock\";\nimport { PANELS } from \"../consts/conts\";\n\nconst Map = (props) => {\n  const dispatch = useDispatch();\n  const { shops } = useSelector((store) => store.shops);\n  const shopsArray = shops.map((shop, i) => {\n    return {\n      ...shop,\n      cord: [shop.locationLat, shop.locationLng],\n    };\n  });\n  const [localMap, setLocalMap] = useState(\"\");\n  const handleLoad = () => {\n    window.ymaps.ready(() => {\n      setLocalMap(\n        new ymaps.Map(\n          \"map-2\",\n          {\n            center: [55.751574, 37.573856],\n            zoom: 9,\n          },\n          {\n            searchControlProvider: \"yandex#search\",\n          }\n        )\n      );\n    });\n  };\n  useEffect(() => {\n    handleLoad();\n  }, []);\n\n  shopsArray.forEach((shop, i) => {\n    const template = `<div id=\"map_point\" class=\"map_point\" data-to=\"current-shop\"   data-id=${shopsArray[i].id} class=\"text\">\n    <svg width=\"45\" height=\"45\" viewBox=\"0 0 43 60\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M39.3987 14.268L34.2549 6.33511L27.0508 3.11149L27.191 2.25652L24.528 1.99023L24.1776 1.83605L24.1636 1.96219L20.5475 1.59778L20.5335 1.20534L19.7346 1.51369L16.6792 1.19133L16.9735 2.57889L11.7456 4.62519L2.52323 13.6233L2.08874 26.4898L20.954 57.3665L29.3214 44.7103L36.8198 32.4885L40.0294 23.9109L39.3987 14.268ZM24.8223 29.2789L16.6792 28.424L12.3903 22.201L14.745 14.0578L19.5944 12.2217L22.9022 12.7684L27.191 14.9128L29.3354 23.4904L24.8223 29.2789Z\" fill=\"#F48542\"/>\n<path d=\"M21.0096 0C9.4186 0 0 9.4186 0 21.0096C0 24.92 1.07921 28.7463 3.13953 32.0541L19.8183 58.9363C20.1407 59.4549 20.7013 59.7632 21.304 59.7632H21.318C21.9347 59.7632 22.4953 59.4409 22.8037 58.9083L39.062 31.7738C40.9961 28.5361 42.0193 24.8079 42.0193 21.0096C42.0193 9.4186 32.6007 0 21.0096 0ZM36.0486 29.9797L21.2759 54.6475L6.11088 30.218C4.40095 27.4569 3.47591 24.2753 3.47591 21.0096C3.47591 11.3528 11.3528 3.47591 21.0096 3.47591C30.6665 3.47591 38.5294 11.3528 38.5294 21.0096C38.5294 24.1772 37.6604 27.2747 36.0486 29.9797Z\" fill=\"black\"/>\n<path d=\"M21.0101 10.5119C15.2216 10.5119 10.4983 15.2212 10.4983 21.0097C10.4983 26.7701 15.1375 31.5215 21.0101 31.5215C26.9528 31.5215 31.5219 26.7141 31.5219 21.0097C31.5219 15.2212 26.7986 10.5119 21.0101 10.5119ZM21.0101 28.0316C17.1277 28.0316 13.9882 24.878 13.9882 21.0097C13.9882 17.1413 17.1558 13.9878 21.0101 13.9878C24.8644 13.9878 28.018 17.1553 28.018 21.0097C28.032 24.822 24.9485 28.0316 21.0101 28.0316Z\" fill=\"black\"/>\n</svg>\n\n    <div class=\"place_title\">\n    <div>${shopsArray[i].name}</div>\n    <div>\n    <img src=\"https://cdn1.iconfinder.com/data/icons/interface-travel-and-environment/64/star-interface-256.png\" style=\"width:12px;heigth:12px\">\n    <span class=\"text_small\">\n    4,5 Капучино от 190 р\n    </span>\n    </div>\n    </div>\n    </div>`;\n    let content = ymaps?.templateLayoutFactory?.createClass(template);\n    if (window.ymaps.GeoObject) {\n      const myGeoObject = new ymaps.Placemark(\n        shopsArray[i].cord,\n        {\n          hintContent: shopsArray[i].name,\n        },\n        {\n          iconLayout: content,\n          iconShape: {\n            type: \"Rectangle\",\n            coordinates: [\n              [-95, -88],\n              [85, 78],\n            ],\n          },\n        }\n      );\n      if (localMap.geoObjects) {\n        localMap.geoObjects.add(myGeoObject);\n        myGeoObject.events.add(\"click\", function (e) {\n          const dom = document.getElementsByClassName(\"map_point\");\n          props.setModalActive({\n            state: true,\n            panel: PANELS.MAP_PANEL,\n            shop: dom[i],\n          });\n          dispatch(setCurrentShop(dom[i].dataset.id));\n        });\n      }\n    }\n  });\n  return (\n    <Panel id={props.id}>\n      {/*   <PanelHeader left={<PanelHeaderBack onClick={props.go} data-to='home' />}>\n\n      </PanelHeader> */}\n      <CustomHeaderBlock className='header__block-map' />\n      <Group>\n        <Tabs className='select__tabs-map'>\n          <TabsItem data-to='home' onClick={(e) => props.go(e)}>\n            Cписок заведений\n          </TabsItem>\n          <TabsItem data-to='map' onClick={(e) => props.go(e)} className='shop'>\n            Карта заведений\n          </TabsItem>\n        </Tabs>\n      </Group>\n      <div id='map-2'></div>\n    </Panel>\n  );\n};\n\nMap.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired,\n};\n\nexport default Map;\n","import React from \"react\";\r\nimport { Icon24Search } from \"@vkontakte/icons\";\r\nimport { Icon24ShoppingCartOutline } from \"@vkontakte/icons\";\r\nimport { Icon24MenuOutline } from \"@vkontakte/icons\";\r\nimport { Group, Cell, Div, List, Footer, Tabbar } from \"@vkontakte/vkui\";\r\nimport \"./CustomFooter.css\";\r\nimport { PANELS, VIEWS } from \"../../consts/conts\";\r\nconst CustomFooter = ({ activePanel , go }) => {\r\n  return (\r\n    <Tabbar className='nav__tabbar'>\r\n      <Group className='footer__group'>\r\n        <List className='nav__list'>\r\n          <Cell className='nav__item' expandable>\r\n            {PANELS.SEARCH_PANELS.some(panel => panel === activePanel) ? (\r\n              <>\r\n                <Div>\r\n                  <Icon24Search fill=\"orange\" data-to=\"home\" onClick={(e)=>go(e)} />\r\n                </Div>\r\n                <span class=\"active\">Поиск</span>\r\n              </>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </Cell>\r\n\r\n          <Cell className='nav__item' expandable>\r\n            <Div>\r\n              <Icon24ShoppingCartOutline fill='#99A2AD' />\r\n            </Div>\r\n            Корзина\r\n          </Cell>\r\n          <Cell className='nav__item' expandable>\r\n            <Div>\r\n              <Icon24MenuOutline fill='#99A2AD' />\r\n            </Div>\r\n            Мои заказы\r\n          </Cell>\r\n        </List>\r\n      </Group>\r\n    </Tabbar>\r\n  );\r\n};\r\n\r\nexport default CustomFooter;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport \"./CurrentShop.css\";\r\nimport {\r\n  CardGrid,\r\n  ContentCard,\r\n  Group,\r\n  HorizontalScroll,\r\n  Tabs,\r\n  Card,\r\n  TabsItem,\r\n  Headline,\r\n  Spacing,\r\n  Title,\r\n  Panel,\r\n} from \"@vkontakte/vkui\";\r\nimport { useState } from \"react\";\r\nimport { Icon16ShoppingCartOutline } from \"@vkontakte/icons\";\r\nimport { PANELS } from \"../../consts/conts\";\r\nexport default function CurrentShop({ go, id }) {\r\n  const { currentShop } = useSelector((store) => store.shops);\r\n  const [activeTab, setActiveTab] = useState(\"Напитки\");\r\n  return (\r\n    <Panel id={id}>\r\n      <CardGrid className='cards__container current__shop-card' size='l'>\r\n        <ContentCard\r\n          onClick={(e) => {}}\r\n          key={currentShop.id}\r\n          className='current__shop-card'\r\n          image={currentShop.img}\r\n          src={currentShop.img}\r\n          subtitle={\"КОФЕЙНЯ \" + currentShop.name}></ContentCard>\r\n      </CardGrid>\r\n      <Tabs>\r\n        <HorizontalScroll>\r\n          <TabsItem>Напитки</TabsItem>\r\n          <TabsItem>Шаверма</TabsItem>\r\n          <TabsItem>Десерты</TabsItem>\r\n          <TabsItem>Закуски</TabsItem>\r\n          <TabsItem>Десерты</TabsItem>\r\n          <TabsItem>Закуски</TabsItem>\r\n        </HorizontalScroll>\r\n      </Tabs>\r\n      <Group class=''>\r\n        <CardGrid className='menu__container' size='m'>\r\n          {currentShop.menu.map((menuItem) => {\r\n            return (\r\n              <Card className='menu__item' mode='outline'>\r\n                <img src={menuItem.img} class='menu__item-img'></img>\r\n                <Spacing size={16} />\r\n                <div>\r\n                  <Headline>{menuItem.name}</Headline>\r\n                </div>\r\n                <Spacing size={16} />\r\n                <div class='menu__item-buy'>\r\n                  <Title\r\n                    class='menu__item-but-text'\r\n                    level='2'\r\n                    weight='semibold'>\r\n                    ₽ {menuItem.cost}\r\n                  </Title>\r\n                  <div\r\n                    class='menu__item-buy-cirle'\r\n                    data-to={PANELS.CURRENT_SHOP_ORDER_PANEL}\r\n                    onClick={(e) => go(e)}>\r\n                    <svg\r\n                      height='26'\r\n                      width='26'\r\n                      fill='white'\r\n                      viewBox='0 0 512 512'\r\n                      xmlns='http://www.w3.org/2000/svg'>\r\n                      <title />\r\n                      <g data-name='1' id='_1'>\r\n                        <path d='M397.78,316H192.65A15,15,0,0,1,178,304.33L143.46,153.85a15,15,0,0,1,14.62-18.36H432.35A15,15,0,0,1,447,153.85L412.4,304.33A15,15,0,0,1,397.78,316ZM204.59,286H385.84l27.67-120.48H176.91Z' />\r\n                        <path d='M222,450a57.48,57.48,0,1,1,57.48-57.48A57.54,57.54,0,0,1,222,450Zm0-84.95a27.48,27.48,0,1,0,27.48,27.47A27.5,27.5,0,0,0,222,365.05Z' />\r\n                        <path d='M368.42,450a57.48,57.48,0,1,1,57.48-57.48A57.54,57.54,0,0,1,368.42,450Zm0-84.95a27.48,27.48,0,1,0,27.48,27.47A27.5,27.5,0,0,0,368.42,365.05Z' />\r\n                        <path d='M158.08,165.49a15,15,0,0,1-14.23-10.26L118.14,78H70.7a15,15,0,1,1,0-30H129a15,15,0,0,1,14.23,10.26l29.13,87.49a15,15,0,0,1-14.23,19.74Z' />\r\n                      </g>\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n              </Card>\r\n            );\r\n          })}\r\n          {currentShop.menu.map((menuItem) => {\r\n            return (\r\n              <Card className='menu__item' mode='outline'>\r\n                <img src={menuItem.img} class='menu__item-img'></img>\r\n                <Spacing size={16} />\r\n                <div class='menu__item-text'>\r\n                  <Headline>{menuItem.name}</Headline>\r\n                </div>\r\n                <Spacing size={16} />\r\n                <div class='menu__item-buy'>\r\n                  <Title\r\n                    class='menu__item-but-text'\r\n                    level='2'\r\n                    weight='semibold'>\r\n                    ₽ {menuItem.cost}\r\n                  </Title>\r\n                  <div\r\n                    class='menu__item-buy-cirle'\r\n                    data-to={PANELS.CURRENT_SHOP_ORDER_PANEL}\r\n                    onClick={(e) => go(e)}>\r\n                    <svg\r\n                      height='26'\r\n                      width='26'\r\n                      fill='white'\r\n                      viewBox='0 0 512 512'\r\n                      xmlns='http://www.w3.org/2000/svg'>\r\n                      <title />\r\n                      <g data-name='1' id='_1'>\r\n                        <path d='M397.78,316H192.65A15,15,0,0,1,178,304.33L143.46,153.85a15,15,0,0,1,14.62-18.36H432.35A15,15,0,0,1,447,153.85L412.4,304.33A15,15,0,0,1,397.78,316ZM204.59,286H385.84l27.67-120.48H176.91Z' />\r\n                        <path d='M222,450a57.48,57.48,0,1,1,57.48-57.48A57.54,57.54,0,0,1,222,450Zm0-84.95a27.48,27.48,0,1,0,27.48,27.47A27.5,27.5,0,0,0,222,365.05Z' />\r\n                        <path d='M368.42,450a57.48,57.48,0,1,1,57.48-57.48A57.54,57.54,0,0,1,368.42,450Zm0-84.95a27.48,27.48,0,1,0,27.48,27.47A27.5,27.5,0,0,0,368.42,365.05Z' />\r\n                        <path d='M158.08,165.49a15,15,0,0,1-14.23-10.26L118.14,78H70.7a15,15,0,1,1,0-30H129a15,15,0,0,1,14.23,10.26l29.13,87.49a15,15,0,0,1-14.23,19.74Z' />\r\n                      </g>\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n              </Card>\r\n            );\r\n          })}\r\n        </CardGrid>\r\n      </Group>\r\n    </Panel>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./Selected.css\";\r\nexport default function Selected() {\r\n  return (\r\n    <svg\r\n     className=\"selected\"\r\n      width='30'\r\n      height='30'\r\n      viewBox='0 0 30 30'\r\n      fill='none'\r\n      xmlns='http://www.w3.org/2000/svg'>\r\n      <rect x='2.5' y='2.5' width='25' height='25' rx='12.5' fill='white' />\r\n      <path\r\n        d='M25 15C25 17.6522 23.9464 20.1957 22.0711 22.0711C20.1957 23.9464 17.6522 25 15 25C12.3478 25 9.8043 23.9464 7.92893 22.0711C6.05357 20.1957 5 17.6522 5 15C5 12.3478 6.05357 9.8043 7.92893 7.92893C9.8043 6.05357 12.3478 5 15 5C17.6522 5 20.1957 6.05357 22.0711 7.92893C23.9464 9.8043 25 12.3478 25 15ZM20.0375 11.2125C19.9482 11.1235 19.8419 11.0535 19.7249 11.0065C19.6079 10.9596 19.4827 10.9367 19.3567 10.9393C19.2306 10.9418 19.1064 10.9698 18.9914 11.0215C18.8765 11.0731 18.7731 11.1475 18.6875 11.24L14.3463 16.7712L11.73 14.1537C11.5523 13.9881 11.3172 13.898 11.0743 13.9023C10.8315 13.9066 10.5997 14.005 10.428 14.1767C10.2562 14.3485 10.1578 14.5802 10.1535 14.8231C10.1492 15.066 10.2394 15.301 10.405 15.4788L13.7125 18.7875C13.8016 18.8764 13.9077 18.9465 14.0245 18.9936C14.1413 19.0406 14.2663 19.0637 14.3922 19.0613C14.5181 19.059 14.6422 19.0313 14.7571 18.98C14.8721 18.9286 14.9755 18.8547 15.0612 18.7625L20.0513 12.525C20.2214 12.3481 20.3153 12.1116 20.313 11.8662C20.3107 11.6208 20.2122 11.3861 20.0387 11.2125H20.0375Z'\r\n        fill='#F48542'\r\n      />\r\n      <rect\r\n        x='2.5'\r\n        y='2.5'\r\n        width='25'\r\n        height='25'\r\n        rx='12.5'\r\n        stroke='#FAF2EB'\r\n        stroke-width='5'\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import {\r\n  Panel,\r\n  PanelHeader,\r\n  CardGrid,\r\n  ContentCard,\r\n  Group,\r\n  Tabs,\r\n  TabsItem,\r\n} from \"@vkontakte/vkui\";\r\nimport React from \"react\";\r\nimport { PANELS, TABS } from \"../../consts/conts\";\r\nimport { PanelHeaderBack } from \"@vkontakte/vkui\";\r\nimport { useSelector } from \"react-redux\";\r\nimport \"./CurrentShopProduct.css\";\r\nimport { useState } from \"react\";\r\nimport Selected from \"../../img/svg/Selected/Selected\";\r\nimport { FormItem, Checkbox, Button } from \"@vkontakte/vkui\";\r\n\r\nexport default function CurrentShopProduct({ go }) {\r\n  const { currentShop } = useSelector((store) => store.shops);\r\n  const [activeTab, setActiveTab] = useState(false);\r\n  return (\r\n    <Panel>\r\n      <CardGrid className='current-dish__cotnainer' size='l'>\r\n        <PanelHeaderBack\r\n          className='back_button'\r\n          onClick={go}\r\n          data-to={PANELS.CURRENT_SHOP_PANEL}\r\n        />\r\n        <ContentCard\r\n          onClick={(e) => {}}\r\n          key={currentShop.id}\r\n          className='current__shop-card'\r\n          image={currentShop.img}\r\n          src={currentShop.img}></ContentCard>\r\n        <div className='current-dish__title'>\r\n          <div>\r\n            <h2>130 P</h2>\r\n          </div>\r\n          <div>\r\n            <h2>Капучино</h2>\r\n          </div>\r\n          <div>Рекомендуем обьём L</div>\r\n        </div>\r\n        <div className='current-dish__sizes'>\r\n          <Group>\r\n            <Tabs className='current-dish__sizes' mode='segmented'>\r\n              <TabsItem\r\n                className='current-dish__size'\r\n                onClick={() => setActiveTab(TABS.small)}\r\n                selected={activeTab === TABS.small}>\r\n                {activeTab === TABS.small ? <Selected /> : \"\"} S {TABS.small} ₽\r\n              </TabsItem>\r\n              <TabsItem\r\n                className='current-dish__size'\r\n                onClick={() => setActiveTab(TABS.medium)}\r\n                selected={activeTab === TABS.medium}>\r\n                {activeTab === TABS.medium ? <Selected /> : \"\"} M {TABS.medium}{\" \"}\r\n                ₽\r\n              </TabsItem>\r\n              <TabsItem\r\n                className='current-dish__size'\r\n                onClick={() => setActiveTab(TABS.large)}\r\n                selected={activeTab === TABS.large}>\r\n                {activeTab === TABS.large ? <Selected /> : \"\"}L {TABS.large} ₽\r\n              </TabsItem>\r\n            </Tabs>\r\n          </Group>\r\n          <Group>\r\n            <div className='current-dish__adds'>\r\n              <div className='current-dish__add'>\r\n                <div className='add-title'>С сиропом вкуснее! 🍬</div>\r\n                <div className='add-variants'>\r\n                  <FormItem>\r\n                    <Checkbox>Кокосовый сироп +20 ₽</Checkbox>\r\n                  </FormItem>\r\n                  <FormItem>\r\n                    <Checkbox>Кленовый сироп +20 ₽</Checkbox>\r\n                  </FormItem>\r\n                  <div className='add-title'>\r\n                    На альтернативном молоке полезнее 🌿\r\n                  </div>\r\n                  <FormItem>\r\n                    <Checkbox>Миндальное +40 ₽</Checkbox>\r\n                  </FormItem>\r\n                  <FormItem>\r\n                    <Checkbox>Миндальное +40 ₽</Checkbox>\r\n                  </FormItem>\r\n                </div>\r\n                <Button size='l' stretched style={{ marginRight: 8 }}>\r\n                  В корзину\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Group>\r\n        </div>\r\n      </CardGrid>\r\n      <Group className='current__dish'></Group>\r\n    </Panel>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport $api from \"./api\";\r\nexport default class UserService {\r\n  static getGeo(url) {\r\n    return fetch(url).then((res) => res.json());\r\n  }\r\n}\r\n","/* eslint-disable no-use-before-define */\r\n/* eslint-disable camelcase */\r\n/* eslint-disable arrow-body-style */\r\n/* eslint-disable consistent-return */\r\n/* eslint-disable array-callback-return */\r\n/* eslint-disable func-names */\r\n\r\nimport UserService from \"../../api/userService\";\r\nimport { SET_USER_GEO_DATA } from \"../actions-conts/actions-conts\";\r\nimport { setUserGeoDataAC } from \"../actions/actions\";\r\n\r\nconst initialState = {\r\n  userAdress: \"\",\r\n  userLocation: \"\",\r\n};\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n  let stateCopy = { ...state };\r\n  switch (action.type) {\r\n    case SET_USER_GEO_DATA:\r\n      stateCopy.userAdress = action.payload.city + \" , \" + action.payload.road;\r\n      return {\r\n        ...stateCopy,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setUserGeoData = (location) => {\r\n  return async function (dispatch) {\r\n    const geoData = await UserService.getGeo(\r\n      `https://nominatim.openstreetmap.org/reverse?lat=${location.lat}&lon=${location.long}&zoom=18&addressdetails=1&format=json`\r\n    );\r\n    console.log('GET DATA',geoData)\r\n    dispatch(setUserGeoDataAC(geoData.address));\r\n  };\r\n};\r\n\r\nexport default userReducer;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  ModalRoot,\r\n  ModalPage,\r\n  Select,\r\n  FormLayout,\r\n  ModalPageHeader,\r\n  Separator,\r\n  Div,\r\n  Button,\r\n  Input,\r\n  PanelHeaderButton,\r\n} from \"@vkontakte/vkui\";\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\nimport { Icon16Clear } from \"@vkontakte/icons\";\r\nimport \"./Popup.css\";\r\nimport { PANELS } from \"../../consts/conts\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst Popup = ({ modalActive, setModalActive, getGeo , go }) => {\r\n  const { currentShop } = useSelector((store) => store.shops);\r\n  console.log(\"POPUP DATA\", currentShop);\r\n  const styles = {\r\n    container: \"popup_container\",\r\n    buttons: \"popup_buttons\",\r\n  };\r\n  const mapStyles = {\r\n    container: \"popup-map__container\",\r\n    imgContainer: \"popup-map__img-container\",\r\n    img: \"popup-map__img\",\r\n    description: \"popup-map__description\",\r\n    button: \"popup-map__button\",\r\n  };\r\n  console.log(\"MODAL DATA\", modalActive);\r\n  return (\r\n    <ModalRoot\r\n      activeModal={modalActive.state ? \"modalPage\" : null}\r\n      onClose={() => {\r\n        setModalActive(false);\r\n      }}>\r\n      <ModalPage id='modalPage'>\r\n        <ModalPageHeader\r\n          right={\r\n            <PanelHeaderButton\r\n              onClick={() => setModalActive(false)}></PanelHeaderButton>\r\n          }></ModalPageHeader>\r\n        <Separator />\r\n        {modalActive.panel === PANELS.MAIN_PANEL ? (\r\n          <div className={styles.container}>\r\n            <h2>\r\n              Чтобы увидеть заведения на карте, необходимо разрешить передачу\r\n              геоданных\r\n            </h2>\r\n            <div className={styles.buttons}>\r\n              <Div\r\n                onClick={() => {\r\n                  getGeo();\r\n                  setModalActive({ state: false, panel: PANELS.MAIN_PANEL });\r\n                }}>\r\n                <Button>Cогласится</Button>\r\n              </Div>\r\n              <Div\r\n                onClick={() =>\r\n                  setModalActive({ state: false, panel: PANELS.MAIN_PANEL })\r\n                }>\r\n                <Button mode='destructive'>Отказатся</Button>\r\n              </Div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className={mapStyles.container}>\r\n            <div className={mapStyles.imgContainer}>\r\n              <img src={currentShop.img} className={mapStyles.img} />\r\n            </div>\r\n            <div className={mapStyles.description}>\r\n              <span>Name : {currentShop.name}</span>\r\n              <span>\r\n                from : {currentShop.workingFrom} to {currentShop.workingTo}\r\n              </span>\r\n              <span>Rate : {currentShop.middleRate}</span>\r\n              <span>Adress : {currentShop.addressText}</span>\r\n            </div>\r\n            <div className={mapStyles.button}>\r\n              <Div onClick={() =>{\r\n                 go(modalActive.shop)\r\n                 setModalActive({...modalActive,state:false})\r\n              }}>\r\n                <Button>Перейти</Button>\r\n              </Div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </ModalPage>\r\n    </ModalRoot>\r\n  );\r\n};\r\n\r\nexport default Popup;\r\n","import React, { useState, useEffect } from \"react\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport {\n  View,\n  ScreenSpinner,\n  AdaptivityProvider,\n  AppRoot,\n} from \"@vkontakte/vkui\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\n\nimport Home from \"./panels/Home\";\nimport Map from \"./panels/Map\";\nimport CustomFooter from \"./components/CustomFooter/CustomFooter\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setAllShops } from \"./store/reducers/shopReducer\";\nimport CurrentShop from \"./components/CurrentShop/CurrentShop\";\nimport CurrentShopProduct from \"./components/CurrentShopProduct/CurrentShopProduct\";\nimport { setUserGeoData } from \"./store/reducers/userReducer\";\nimport Popup from \"./components/Popup/Popup\";\nimport { PANELS } from \"./consts/conts\";\n\nconst App = () => {\n  const [activePanel, setActivePanel] = useState(\"home\");\n  const [fetchedUser, setUser] = useState(null);\n  const [popoup, setPopoup] = useState({\n    state: true,\n    panel: PANELS.MAIN_PANEL,\n    shop : null\n  });\n  const [userGeo, setUserGeo] = useState(null);\n  const dispatch = useDispatch();\n  const { shops } = useSelector((store) => store.shops);\n  const getGeo = async () => {\n    try {\n      const geo = await bridge.send(\"VKWebAppGetGeodata\");\n      setUserGeo(geo);\n      dispatch(setUserGeoData({ lat: geo.lat, long: geo.long }));\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  useEffect(() => {\n    /*  setPopoup(true); */\n    bridge.subscribe(({ detail: { type, data } }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        const schemeAttribute = document.createAttribute(\"scheme\");\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n    async function fetchData() {\n      const user = await bridge.send(\"VKWebAppGetUserInfo\");\n      setUser(user);\n    }\n    fetchData();\n    dispatch(setAllShops());\n  }, []);\n  const go = (e) => {\n    if (!e.currentTarget) {\n      setActivePanel(e.dataset.to);\n      return;\n    }\n    setActivePanel(e.currentTarget.dataset.to);\n  };\n\n  return (\n    <AdaptivityProvider>\n      <AppRoot>\n        <View\n          activePanel={activePanel}\n          modal={\n            <Popup\n              modalActive={popoup}\n              setModalActive={setPopoup}\n              getGeo={getGeo}\n              go={go}\n            />\n          }>\n          <Home id='home' fetchedUser={fetchedUser} shops={shops} go={go} />\n          <Map setModalActive={setPopoup} id='map' go={go} />\n          <CurrentShop id='current-shop' go={go} />\n          <CurrentShopProduct id='current-shop-order-product' go={go} />\n        </View>\n        <CustomFooter activePanel={activePanel} go={go} />\n      </AppRoot>\n    </AdaptivityProvider>\n  );\n};\n\nexport default App;\n","import { combineReducers, applyMiddleware, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport shopReducer from \"./reducers/shopReducer\";\r\nimport userReducer from \"./reducers/userReducer\";\r\n\r\nconst redusers = combineReducers({\r\n  shops: shopReducer,\r\n  user : userReducer\r\n});\r\n\r\nconst store = createStore(redusers, applyMiddleware(thunk));\r\nwindow.redux = store;\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\nimport store from \"./store/store\";\nimport { Provider } from \"react-redux\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}